<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      <meta name="author" content="Ashkan Mirzaee">
      <meta name="description" content="Review on some basic R fuctions">
      <title>Helpful functions in R</title>
      <!-- Bootstrap -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- My styles -->
      <link rel="stylesheet" href="https://ashki23.github.io/styles.css">
            <!-- favicon -->
            <link rel="icon" href="images/AM.jpg">
            <!-- google-site-verification -->
            <meta name="google-site-verification" content="lD_nifpQ-CA6LaDwxYJbe5bq0oa6Ir0Ax-txvtdP51E">
            <!-- bing-site-verification -->
            <meta name="msvalidate.01" content="89BCD3FF42B6E9FE48E0C8365767D11B">
         </head>
   <body>
      <nav class="navbar fixed-top navbar-expand-lg navbar-dark bd-navbar">
   <a class="navbar-brand" href="index.html">Ashkan Mirzaee</a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" style="border: none; outline: none">
   <span class="navbar-toggler-icon"></span>
   </button>
   <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
         <li class="nav-item">
            <a class="nav-link" href="page1.html">Blog</a>
         </li>
         <li class="nav-item">
            <a class="nav-link" href="tutorials.html">Tutorials</a>
         </li>
	 <li class="nav-item">
            <a class="nav-link" href="research.html">Research</a>
         </li>
	 <li class="nav-item">
            <a class="nav-link" href="blogroll.html">Blogroll</a>
         </li>
      </ul>
      <ul class="navbar-nav ml-auto">
	<li class="nav-item">
	  <a class="nav-link" href="contact.html" aria-label="Contact">
	    <span class="fa fa-envelope fa-lg"></a>
	</li>
	<li class="nav-item">
	  <a class="nav-link" href="https://github.com/ashki23" target="_blank" rel="noopener" aria-label="GitHub">
	    <span class="fa fa-github fa-lg"></span></a>
	</li>
	<li class="nav-item">
	  <a class="nav-link" href="https://gitlab.com/ashki23" target="_blank" rel="noopener" aria-label="GitLab">
	    <span class="fa fa-gitlab fa-lg"></span></a>
	</li>
	<li class="nav-item">
	  <a class="nav-link" href="https://www.linkedin.com/in/ashkan-mirzaee/" target="_blank" rel="noopener" aria-label="Linkedin">
	    <span class="fa fa-linkedin fa-lg"></span></a>
	</li>
      </ul>
   </div>
</nav>
      <div class="container" style="font-size: 110%"> 
         <h1 class="title">Helpful functions in R</h1>
                  <div class="row">
            <div class="col-xl-10"><p><a href="https://www.r-project.org/">R</a> is a powerful tool for statistical learning, data analysis and graphics that includes numerous built-in functions. R is a very self explanatory environment in terms of documentation. We can learn about any R commands only by using <code>help(command)</code>. As a prerequisite, first review the following article:</p>
<ul>
<li><a href="https://ashki23.github.io/r_intro.html">A gentle introduction to R</a></li>
</ul>
<p>The following are also more resources to learn R programming:</p>
<ul>
<li><a href="http://www.cyclismo.org/tutorial/R/index.html">R Tutorial</a></li>
<li><a href="http://swcarpentry.github.io/r-novice-inflammation/">Programming with R</a></li>
<li><a href="http://swcarpentry.github.io/r-novice-gapminder/">R for Reproducible Scientific Analysis</a></li>
<li><a href="https://ashki23.github.io/r-intro.html">A gentle introduction to R</a></li>
<li><a href="https://ashki23.github.io/r-plots.html">Basic graphics in R</a></li>
</ul>
<p>In this article we will learn more about R built-in functions related to calculus, matrix operations, summary statistics and regular expressions.</p>
<hr />
<h2 id="date-and-time">Date and time</h2>
<p>There are several functions to work with date and time classes, following are some examples of these functions.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">Sys.time</span>()</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">## [1] &quot;2020-02-12 21:47:43 CST&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>d =<span class="st"> </span><span class="kw">Sys.Date</span>()</span>
<span id="cb1-5"><a href="#cb1-5"></a>d</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">## [1] &quot;2020-02-12&quot;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="kw">weekdays</span>(d)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">## [1] &quot;Wednesday&quot;</span></span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="kw">months</span>(d)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">## [1] &quot;February&quot;</span></span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="kw">quarters</span>(d)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">## [1] &quot;Q1&quot;</span></span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%d&quot;</span>)</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">## [1] &quot;12&quot;</span></span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%m&quot;</span>)</span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="co">## [1] &quot;02&quot;</span></span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%Y&quot;</span>)</span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co">## [1] &quot;2020&quot;</span></span>
<span id="cb1-25"><a href="#cb1-25"></a></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="kw">timestamp</span>()</span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">## ##------ Wed Feb 12 21:47:43 2020 ------##</span></span>
<span id="cb1-28"><a href="#cb1-28"></a></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%a %b %d %Y %X&quot;</span>) <span class="co"># To see more options for format enter `help(strftime)`</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co">## [1] &quot;Wed Feb 12 2020 21:47:43&quot;</span></span>
<span id="cb1-31"><a href="#cb1-31"></a></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="co">## [1] &quot;2020-02-12&quot;</span></span>
<span id="cb1-34"><a href="#cb1-34"></a></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%H:%M:%S&quot;</span>)</span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="co">## [1] &quot;21:47:43&quot;</span></span>
<span id="cb1-37"><a href="#cb1-37"></a></span>
<span id="cb1-38"><a href="#cb1-38"></a>weeks =<span class="st"> </span><span class="kw">seq</span>(<span class="kw">Sys.Date</span>(), <span class="dt">length.out =</span> <span class="dv">3</span>, <span class="dt">by =</span> <span class="st">&quot;1 week&quot;</span>) <span class="co"># Next three weeks</span></span>
<span id="cb1-39"><a href="#cb1-39"></a>weeks</span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co">## [1] &quot;2020-02-12&quot; &quot;2020-02-19&quot; &quot;2020-02-26&quot;</span></span>
<span id="cb1-41"><a href="#cb1-41"></a></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="kw">difftime</span>(weeks[<span class="dv">2</span>], weeks[<span class="dv">1</span>], <span class="dt">units =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="co">## Time difference of 7 days</span></span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="co"># Date-time conversion</span></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="kw">strftime</span>(<span class="kw">Sys.time</span>(), <span class="dt">format =</span> <span class="st">&quot;%a %d %b %Y %H:%M:%S&quot;</span>) <span class="co"># convert time-date objects to character</span></span>
<span id="cb1-47"><a href="#cb1-47"></a><span class="co">## [1] &quot;Wed 12 Feb 2020 21:47:43&quot;</span></span>
<span id="cb1-48"><a href="#cb1-48"></a></span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="kw">strptime</span>(<span class="st">&quot;20/2/06 11:16:16.683&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;%d/%m/%y %H:%M:%OS&quot;</span>) <span class="co"># convert character to time-date objects</span></span>
<span id="cb1-50"><a href="#cb1-50"></a><span class="co">## [1] &quot;2006-02-20 11:16:16 CST&quot;</span></span></code></pre></div>
<p><code>ts</code> function can be used to create a vector or matrix of <strong>time-series</strong> objects.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">ts</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">start =</span> <span class="kw">c</span>(<span class="dv">1956</span>, <span class="dv">3</span>), <span class="dt">frequency =</span> <span class="dv">12</span>) <span class="co"># for season: frequency = 4</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">##      Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">## 1956           1   2   3   4   5   6   7   8   9  10</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">## 1957  11  12</span></span></code></pre></div>
<h2 id="differentiation-and-integration">Differentiation and integration</h2>
<p>R base system supports both differentiation and integration, for instance:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">## Derivative</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>f =<span class="st"> </span><span class="kw">expression</span>(x<span class="op">^</span><span class="dv">2</span><span class="op">+</span><span class="dv">3</span><span class="op">*</span>x)</span>
<span id="cb3-3"><a href="#cb3-3"></a>ff =<span class="st"> </span><span class="kw">D</span>(f, <span class="st">&quot;x&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>ff</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">## 2 * x + 3</span></span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>x =<span class="st"> </span><span class="dv">2</span> </span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="kw">eval</span>(ff) <span class="co"># to find the answer for x = 2 </span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">## [1] 7</span></span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="kw">D</span>(ff, <span class="st">&quot;x&quot;</span>) <span class="co"># to find the second derivate</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">## [1] 2</span></span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">## Integrate</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>f =<span class="st"> </span><span class="cf">function</span>(x) x<span class="op">^</span><span class="dv">2</span><span class="op">+</span><span class="dv">3</span><span class="op">*</span>x</span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="kw">integrate</span>(f, <span class="dt">lower =</span> <span class="dv">0</span>, <span class="dt">upper =</span> <span class="dv">1</span>)</span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">## 1.833333 with absolute error &lt; 2e-14</span></span></code></pre></div>
<h2 id="matrix-operations">Matrix operations</h2>
<p>The most common matrix operations include:</p>
<ul>
<li>Dimensions of a matrix: <code>dim()</code></li>
<li>Diagonal of a matrix: <code>diag()</code></li>
<li>Identity matrix: <code>diag(number)</code></li>
<li>Matrix symmetric test: <code>isSymmetric()</code></li>
<li>Matrix multiplication: <code>%*%</code></li>
<li>Test matrices for exact equality: <code>identical(,)</code></li>
<li>Matrix transpose: <code>t()</code></li>
<li>Determinant of a matrix: <code>det()</code></li>
<li>Inverse of a matrix: <code>solve()</code></li>
<li>Solve a system of equations: <code>solve()</code></li>
<li>QR Decomposition of a Matrix: <code>qr()</code></li>
<li>Spectral Decomposition of a Matrix: <code>eigen()</code></li>
</ul>
<p>The following are some examples of above functions.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>M =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">4</span>), <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>N =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>b =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="kw">dim</span>(M)</span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">## [1] 3 3</span></span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="kw">diag</span>(M)</span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">## [1] 4 6 4</span></span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="kw">diag</span>(<span class="dv">3</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">##      [,1] [,2] [,3]</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">## [1,]    1    0    0</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">## [2,]    0    1    0</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">## [3,]    0    0    1</span></span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="kw">isSymmetric</span>(M)</span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">## [1] FALSE</span></span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a>M <span class="op">%*%</span><span class="st"> </span>N</span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">##      [,1] [,2] [,3]</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">## [1,]   18   -2   38</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co">## [2,]   32  -10   94</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="co">## [3,]    2   -6   26</span></span>
<span id="cb4-25"><a href="#cb4-25"></a></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="kw">identical</span>(M, N)</span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">## [1] FALSE</span></span>
<span id="cb4-28"><a href="#cb4-28"></a></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="kw">t</span>(M)</span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="co">##      [,1] [,2] [,3]</span></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="co">## [1,]    4    4   -2</span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co">## [2,]    2    6    2</span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="co">## [3,]    2    8    4</span></span>
<span id="cb4-34"><a href="#cb4-34"></a></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="kw">det</span>(M)</span>
<span id="cb4-36"><a href="#cb4-36"></a><span class="co">## [1] 8</span></span>
<span id="cb4-37"><a href="#cb4-37"></a></span>
<span id="cb4-38"><a href="#cb4-38"></a><span class="kw">qr</span>(M)</span>
<span id="cb4-39"><a href="#cb4-39"></a><span class="co">## $qr</span></span>
<span id="cb4-40"><a href="#cb4-40"></a><span class="co">##            [,1]       [,2]       [,3]</span></span>
<span id="cb4-41"><a href="#cb4-41"></a><span class="co">## [1,] -6.0000000 -4.6666667 -5.3333333</span></span>
<span id="cb4-42"><a href="#cb4-42"></a><span class="co">## [2,]  0.6666667 -4.7140452 -7.4481914</span></span>
<span id="cb4-43"><a href="#cb4-43"></a><span class="co">## [3,] -0.3333333  0.7071068  0.2828427</span></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="co">## </span></span>
<span id="cb4-45"><a href="#cb4-45"></a><span class="co">## $rank</span></span>
<span id="cb4-46"><a href="#cb4-46"></a><span class="co">## [1] 3</span></span>
<span id="cb4-47"><a href="#cb4-47"></a><span class="co">## </span></span>
<span id="cb4-48"><a href="#cb4-48"></a><span class="co">## $qraux</span></span>
<span id="cb4-49"><a href="#cb4-49"></a><span class="co">## [1] 1.6666667 1.7071068 0.2828427</span></span>
<span id="cb4-50"><a href="#cb4-50"></a><span class="co">## </span></span>
<span id="cb4-51"><a href="#cb4-51"></a><span class="co">## $pivot</span></span>
<span id="cb4-52"><a href="#cb4-52"></a><span class="co">## [1] 1 2 3</span></span>
<span id="cb4-53"><a href="#cb4-53"></a><span class="co">## </span></span>
<span id="cb4-54"><a href="#cb4-54"></a><span class="co">## attr(,&quot;class&quot;)</span></span>
<span id="cb4-55"><a href="#cb4-55"></a><span class="co">## [1] &quot;qr&quot;</span></span>
<span id="cb4-56"><a href="#cb4-56"></a></span>
<span id="cb4-57"><a href="#cb4-57"></a><span class="kw">solve</span>(M) <span class="co"># Inverse of M</span></span>
<span id="cb4-58"><a href="#cb4-58"></a><span class="co">##      [,1] [,2] [,3]</span></span>
<span id="cb4-59"><a href="#cb4-59"></a><span class="co">## [1,]  1.0 -0.5  0.5</span></span>
<span id="cb4-60"><a href="#cb4-60"></a><span class="co">## [2,] -4.0  2.5 -3.0</span></span>
<span id="cb4-61"><a href="#cb4-61"></a><span class="co">## [3,]  2.5 -1.5  2.0</span></span>
<span id="cb4-62"><a href="#cb4-62"></a></span>
<span id="cb4-63"><a href="#cb4-63"></a><span class="kw">solve</span>(M,b) <span class="co"># Solve a system</span></span>
<span id="cb4-64"><a href="#cb4-64"></a><span class="co">##      [,1]</span></span>
<span id="cb4-65"><a href="#cb4-65"></a><span class="co">## [1,]  0.5</span></span>
<span id="cb4-66"><a href="#cb4-66"></a><span class="co">## [2,] -3.0</span></span>
<span id="cb4-67"><a href="#cb4-67"></a><span class="co">## [3,]  2.0</span></span>
<span id="cb4-68"><a href="#cb4-68"></a></span>
<span id="cb4-69"><a href="#cb4-69"></a><span class="kw">eigen</span>(M)</span>
<span id="cb4-70"><a href="#cb4-70"></a><span class="co">## eigen() decomposition</span></span>
<span id="cb4-71"><a href="#cb4-71"></a><span class="co">## $values</span></span>
<span id="cb4-72"><a href="#cb4-72"></a><span class="co">## [1] 9.4185507 4.3878731 0.1935761</span></span>
<span id="cb4-73"><a href="#cb4-73"></a><span class="co">## </span></span>
<span id="cb4-74"><a href="#cb4-74"></a><span class="co">## $vectors</span></span>
<span id="cb4-75"><a href="#cb4-75"></a><span class="co">##           [,1]       [,2]       [,3]</span></span>
<span id="cb4-76"><a href="#cb4-76"></a><span class="co">## [1,] 0.3994272 -0.6725085  0.1632537</span></span>
<span id="cb4-77"><a href="#cb4-77"></a><span class="co">## [2,] 0.8980978 -0.5844552 -0.8354557</span></span>
<span id="cb4-78"><a href="#cb4-78"></a><span class="co">## [3,] 0.1840605  0.4540313  0.5247494</span></span></code></pre></div>
<h2 id="computational-functions">Computational functions</h2>
<p>R provides an abundance of computational functions. The following are some examples of these functions.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Cumulative sums, products</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">cumsum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">## [1]  1  3  6 10 15</span></span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="kw">cumprod</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">## [1]   1   2   6  24 120</span></span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="kw">set.seed</span>(<span class="dv">23</span>)</span>
<span id="cb5-9"><a href="#cb5-9"></a>mydata =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">sample =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">5</span>), <span class="dt">random =</span> <span class="kw">rnorm</span>(<span class="dv">5</span>))</span>
<span id="cb5-10"><a href="#cb5-10"></a>mydata</span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">##   sample     random</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">## 1     29  2.7075823</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">## 2     28  0.5284939</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">## 3     72 -0.4823752</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">## 4     43 -1.0835666</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">## 5     45  0.2366887</span></span>
<span id="cb5-17"><a href="#cb5-17"></a></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co"># Which min/max</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="kw">which.min</span>(mydata<span class="op">$</span>sample)</span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">## [1] 2</span></span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="kw">which.max</span>(mydata<span class="op">$</span>sample)</span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co">## [1] 3</span></span>
<span id="cb5-24"><a href="#cb5-24"></a></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="co"># Apply</span></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="kw">apply</span>(mydata , <span class="dv">2</span>, quantile) <span class="co"># Calculate quantile</span></span>
<span id="cb5-27"><a href="#cb5-27"></a><span class="co">##      sample     random</span></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co">## 0%       28 -1.0835666</span></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="co">## 25%      29 -0.4823752</span></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co">## 50%      43  0.2366887</span></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="co">## 75%      45  0.5284939</span></span>
<span id="cb5-32"><a href="#cb5-32"></a><span class="co">## 100%     72  2.7075823</span></span>
<span id="cb5-33"><a href="#cb5-33"></a></span>
<span id="cb5-34"><a href="#cb5-34"></a><span class="kw">apply</span>(mydata, <span class="dv">2</span>, mean) <span class="co"># Calculate mean</span></span>
<span id="cb5-35"><a href="#cb5-35"></a><span class="co">##     sample     random </span></span>
<span id="cb5-36"><a href="#cb5-36"></a><span class="co">## 43.4000000  0.3813646</span></span>
<span id="cb5-37"><a href="#cb5-37"></a></span>
<span id="cb5-38"><a href="#cb5-38"></a><span class="kw">colMeans</span>(mydata)</span>
<span id="cb5-39"><a href="#cb5-39"></a><span class="co">##     sample     random </span></span>
<span id="cb5-40"><a href="#cb5-40"></a><span class="co">## 43.4000000  0.3813646</span></span>
<span id="cb5-41"><a href="#cb5-41"></a></span>
<span id="cb5-42"><a href="#cb5-42"></a><span class="kw">scale</span>(mydata) <span class="co"># scale(x) = (x - mean(x)) / sd(x)</span></span>
<span id="cb5-43"><a href="#cb5-43"></a><span class="co">##           sample     random</span></span>
<span id="cb5-44"><a href="#cb5-44"></a><span class="co">## [1,] -0.80967904  1.6104335</span></span>
<span id="cb5-45"><a href="#cb5-45"></a><span class="co">## [2,] -0.86590675  0.1018572</span></span>
<span id="cb5-46"><a href="#cb5-46"></a><span class="co">## [3,]  1.60811253 -0.5979645</span></span>
<span id="cb5-47"><a href="#cb5-47"></a><span class="co">## [4,] -0.02249108 -1.0141675</span></span>
<span id="cb5-48"><a href="#cb5-48"></a><span class="co">## [5,]  0.08996434 -0.1001587</span></span>
<span id="cb5-49"><a href="#cb5-49"></a><span class="co">## attr(,&quot;scaled:center&quot;)</span></span>
<span id="cb5-50"><a href="#cb5-50"></a><span class="co">##     sample     random </span></span>
<span id="cb5-51"><a href="#cb5-51"></a><span class="co">## 43.4000000  0.3813646 </span></span>
<span id="cb5-52"><a href="#cb5-52"></a><span class="co">## attr(,&quot;scaled:scale&quot;)</span></span>
<span id="cb5-53"><a href="#cb5-53"></a><span class="co">##    sample    random </span></span>
<span id="cb5-54"><a href="#cb5-54"></a><span class="co">## 17.784825  1.444467</span></span></code></pre></div>
<h2 id="summary-statistics">Summary statistics</h2>
<p><code>aggregate</code> function splits the data into subsets, computes summary statistics for each, and returns the result in a convenient form. <code>table</code> uses the cross-classifying factors to build a contingency table of the counts at each combination of factor levels.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">head</span>(warpbreaks)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">##   breaks wool tension</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">## 1     26    A       L</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">## 2     30    A       L</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">## 3     54    A       L</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">## 4     25    A       L</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">## 5     70    A       L</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">## 6     52    A       L</span></span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="kw">aggregate</span>(breaks <span class="op">~</span><span class="st"> </span>wool <span class="op">+</span><span class="st"> </span>tension, <span class="dt">data =</span> warpbreaks, mean)</span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">##   wool tension   breaks</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">## 1    A       L 44.55556</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">## 2    B       L 28.22222</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">## 3    A       M 24.00000</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">## 4    B       M 28.77778</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">## 5    A       H 24.55556</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">## 6    B       H 18.77778</span></span>
<span id="cb6-18"><a href="#cb6-18"></a></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="kw">head</span>(airquality)</span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">##   Ozone Solar.R Wind Temp Month Day</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">## 1    41     190  7.4   67     5   1</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">## 2    36     118  8.0   72     5   2</span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">## 3    12     149 12.6   74     5   3</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co">## 4    18     313 11.5   62     5   4</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co">## 5    NA      NA 14.3   56     5   5</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">## 6    28      NA 14.9   66     5   6</span></span>
<span id="cb6-27"><a href="#cb6-27"></a></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="kw">aggregate</span>(<span class="kw">cbind</span>(Ozone, Temp) <span class="op">~</span><span class="st"> </span>Month, <span class="dt">data =</span> airquality, mean)</span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="co">##   Month    Ozone     Temp</span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="co">## 1     5 23.61538 66.73077</span></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">## 2     6 29.44444 78.22222</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">## 3     7 59.11538 83.88462</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="co">## 4     8 59.96154 83.96154</span></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="co">## 5     9 31.44828 76.89655</span></span>
<span id="cb6-35"><a href="#cb6-35"></a></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co"># Finding frequency</span></span>
<span id="cb6-37"><a href="#cb6-37"></a>letter =<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;d&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;a&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;a&#39;</span>, <span class="st">&#39;c&#39;</span>)</span>
<span id="cb6-38"><a href="#cb6-38"></a>fr =<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">table</span>(letter))</span>
<span id="cb6-39"><a href="#cb6-39"></a>fr</span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co">##   letter Freq</span></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="co">## 1      a    2</span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="co">## 2      b    1</span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="co">## 3      c    2</span></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="co">## 4      d    3</span></span>
<span id="cb6-45"><a href="#cb6-45"></a></span>
<span id="cb6-46"><a href="#cb6-46"></a>fr[<span class="kw">order</span>(fr<span class="op">$</span>Freq, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>),]</span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="co">##   letter Freq</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="co">## 4      d    3</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="co">## 1      a    2</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="co">## 3      c    2</span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="co">## 2      b    1</span></span>
<span id="cb6-52"><a href="#cb6-52"></a></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="co"># Correlation matrix</span></span>
<span id="cb6-54"><a href="#cb6-54"></a><span class="kw">cor</span>(mtcars[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="co">##             mpg        cyl       disp</span></span>
<span id="cb6-56"><a href="#cb6-56"></a><span class="co">## mpg   1.0000000 -0.8521620 -0.8475514</span></span>
<span id="cb6-57"><a href="#cb6-57"></a><span class="co">## cyl  -0.8521620  1.0000000  0.9020329</span></span>
<span id="cb6-58"><a href="#cb6-58"></a><span class="co">## disp -0.8475514  0.9020329  1.0000000</span></span>
<span id="cb6-59"><a href="#cb6-59"></a></span>
<span id="cb6-60"><a href="#cb6-60"></a><span class="co"># Symbolic coding correlation matrix</span></span>
<span id="cb6-61"><a href="#cb6-61"></a><span class="kw">symnum</span>(<span class="kw">cor</span>(mtcars))</span>
<span id="cb6-62"><a href="#cb6-62"></a><span class="co">##      m cy ds h dr w q v a g cr</span></span>
<span id="cb6-63"><a href="#cb6-63"></a><span class="co">## mpg  1                        </span></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="co">## cyl  + 1                      </span></span>
<span id="cb6-65"><a href="#cb6-65"></a><span class="co">## disp + *  1                   </span></span>
<span id="cb6-66"><a href="#cb6-66"></a><span class="co">## hp   , +  ,  1                </span></span>
<span id="cb6-67"><a href="#cb6-67"></a><span class="co">## drat , ,  ,  . 1              </span></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="co">## wt   + ,  +  , ,  1           </span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="co">## qsec . .  .  ,      1         </span></span>
<span id="cb6-70"><a href="#cb6-70"></a><span class="co">## vs   , +  ,  , .  . , 1       </span></span>
<span id="cb6-71"><a href="#cb6-71"></a><span class="co">## am   . .  .    ,  ,     1     </span></span>
<span id="cb6-72"><a href="#cb6-72"></a><span class="co">## gear . .  .    ,  .     , 1   </span></span>
<span id="cb6-73"><a href="#cb6-73"></a><span class="co">## carb . .  .  ,    . , .     1 </span></span>
<span id="cb6-74"><a href="#cb6-74"></a><span class="co">## attr(,&quot;legend&quot;)</span></span>
<span id="cb6-75"><a href="#cb6-75"></a><span class="co">## [1] 0 &#39; &#39; 0.3 &#39;.&#39; 0.6 &#39;,&#39; 0.8 &#39;+&#39; 0.9 &#39;*&#39; 0.95 &#39;B&#39; 1</span></span></code></pre></div>
<h2 id="split-and-merge-data">Split and merge data</h2>
<p><code>split</code> function divides the data into a list of defined groups. <code>merge</code> function merge two data frames by common columns or row names. <code>merge</code> is similar to <code>JOIN</code> in SQL:</p>
<ul>
<li>Inner join: <code>merge(x, y, by)</code></li>
<li>Left join: <code>merge(x, y, by, all.x = T)</code></li>
<li>Right join: <code>merge(x, y, by, all.y = T)</code></li>
<li>Outer join: <code>merge(x, y, by, all = T)</code></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>data =<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">meat =</span> <span class="kw">c</span>(<span class="st">&quot;grade-1&quot;</span>,<span class="st">&quot;grade-2&quot;</span>,<span class="st">&quot;grade-3&quot;</span>), <span class="dt">food =</span> <span class="kw">c</span>(<span class="st">&quot;burger&quot;</span>, <span class="st">&quot;steak&quot;</span>, <span class="st">&quot;pizza&quot;</span>))</span>
<span id="cb7-2"><a href="#cb7-2"></a>data<span class="op">$</span>value =<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="kw">nrow</span>(data)), <span class="dv">2</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a>data</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">##      meat   food value</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">## 1 grade-1 burger  0.33</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">## 2 grade-2 burger -0.60</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">## 3 grade-3 burger  0.85</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">## 4 grade-1  steak  0.92</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">## 5 grade-2  steak  1.19</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">## 6 grade-3  steak  0.77</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">## 7 grade-1  pizza -0.60</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">## 8 grade-2  pizza -0.39</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">## 9 grade-3  pizza  0.88</span></span>
<span id="cb7-14"><a href="#cb7-14"></a></span>
<span id="cb7-15"><a href="#cb7-15"></a>data_by_food =<span class="st"> </span><span class="kw">split</span>(data, data<span class="op">$</span>food)</span>
<span id="cb7-16"><a href="#cb7-16"></a>data_by_food</span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">## $burger</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">##      meat   food value</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">## 1 grade-1 burger  0.33</span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">## 2 grade-2 burger -0.60</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">## 3 grade-3 burger  0.85</span></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">## </span></span>
<span id="cb7-23"><a href="#cb7-23"></a><span class="co">## $steak</span></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co">##      meat  food value</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co">## 4 grade-1 steak  0.92</span></span>
<span id="cb7-26"><a href="#cb7-26"></a><span class="co">## 5 grade-2 steak  1.19</span></span>
<span id="cb7-27"><a href="#cb7-27"></a><span class="co">## 6 grade-3 steak  0.77</span></span>
<span id="cb7-28"><a href="#cb7-28"></a><span class="co">## </span></span>
<span id="cb7-29"><a href="#cb7-29"></a><span class="co">## $pizza</span></span>
<span id="cb7-30"><a href="#cb7-30"></a><span class="co">##      meat  food value</span></span>
<span id="cb7-31"><a href="#cb7-31"></a><span class="co">## 7 grade-1 pizza -0.60</span></span>
<span id="cb7-32"><a href="#cb7-32"></a><span class="co">## 8 grade-2 pizza -0.39</span></span>
<span id="cb7-33"><a href="#cb7-33"></a><span class="co">## 9 grade-3 pizza  0.88</span></span>
<span id="cb7-34"><a href="#cb7-34"></a></span>
<span id="cb7-35"><a href="#cb7-35"></a><span class="kw">class</span>(data_by_food)</span>
<span id="cb7-36"><a href="#cb7-36"></a><span class="co">## [1] &quot;list&quot;</span></span>
<span id="cb7-37"><a href="#cb7-37"></a></span>
<span id="cb7-38"><a href="#cb7-38"></a>x =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">ID =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">Product =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;TV&quot;</span>, <span class="dv">3</span>), <span class="kw">rep</span>(<span class="st">&quot;Mobile&quot;</span>, <span class="dv">3</span>)))</span>
<span id="cb7-39"><a href="#cb7-39"></a>x</span>
<span id="cb7-40"><a href="#cb7-40"></a><span class="co">##   ID Product</span></span>
<span id="cb7-41"><a href="#cb7-41"></a><span class="co">## 1  1      TV</span></span>
<span id="cb7-42"><a href="#cb7-42"></a><span class="co">## 2  2      TV</span></span>
<span id="cb7-43"><a href="#cb7-43"></a><span class="co">## 3  3      TV</span></span>
<span id="cb7-44"><a href="#cb7-44"></a><span class="co">## 4  4  Mobile</span></span>
<span id="cb7-45"><a href="#cb7-45"></a><span class="co">## 5  5  Mobile</span></span>
<span id="cb7-46"><a href="#cb7-46"></a><span class="co">## 6  6  Mobile</span></span>
<span id="cb7-47"><a href="#cb7-47"></a></span>
<span id="cb7-48"><a href="#cb7-48"></a>y =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">ID =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>), <span class="dt">Made_in =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Japan&quot;</span>, <span class="dv">2</span>), <span class="kw">rep</span>(<span class="st">&quot;China&quot;</span>, <span class="dv">1</span>)))</span>
<span id="cb7-49"><a href="#cb7-49"></a>y</span>
<span id="cb7-50"><a href="#cb7-50"></a><span class="co">##   ID Made_in</span></span>
<span id="cb7-51"><a href="#cb7-51"></a><span class="co">## 1  2   Japan</span></span>
<span id="cb7-52"><a href="#cb7-52"></a><span class="co">## 2  4   Japan</span></span>
<span id="cb7-53"><a href="#cb7-53"></a><span class="co">## 3  6   China</span></span>
<span id="cb7-54"><a href="#cb7-54"></a></span>
<span id="cb7-55"><a href="#cb7-55"></a><span class="kw">merge</span>(x, y, <span class="dt">by =</span> <span class="st">&quot;ID&quot;</span>) <span class="co"># Inner join</span></span>
<span id="cb7-56"><a href="#cb7-56"></a><span class="co">##   ID Product Made_in</span></span>
<span id="cb7-57"><a href="#cb7-57"></a><span class="co">## 1  2      TV   Japan</span></span>
<span id="cb7-58"><a href="#cb7-58"></a><span class="co">## 2  4  Mobile   Japan</span></span>
<span id="cb7-59"><a href="#cb7-59"></a><span class="co">## 3  6  Mobile   China</span></span>
<span id="cb7-60"><a href="#cb7-60"></a></span>
<span id="cb7-61"><a href="#cb7-61"></a><span class="kw">merge</span>(x, y, <span class="dt">by =</span> <span class="st">&quot;ID&quot;</span>, <span class="dt">all =</span> <span class="ot">TRUE</span>) <span class="co"># Full outer join</span></span>
<span id="cb7-62"><a href="#cb7-62"></a><span class="co">##   ID Product Made_in</span></span>
<span id="cb7-63"><a href="#cb7-63"></a><span class="co">## 1  1      TV    &lt;NA&gt;</span></span>
<span id="cb7-64"><a href="#cb7-64"></a><span class="co">## 2  2      TV   Japan</span></span>
<span id="cb7-65"><a href="#cb7-65"></a><span class="co">## 3  3      TV    &lt;NA&gt;</span></span>
<span id="cb7-66"><a href="#cb7-66"></a><span class="co">## 4  4  Mobile   Japan</span></span>
<span id="cb7-67"><a href="#cb7-67"></a><span class="co">## 5  5  Mobile    &lt;NA&gt;</span></span>
<span id="cb7-68"><a href="#cb7-68"></a><span class="co">## 6  6  Mobile   China</span></span></code></pre></div>
<h2 id="regular-expressions">Regular expressions</h2>
<p><a href="https://en.wikipedia.org/wiki/Regular_expression">Regular expressions</a> (regex) are a simple way to find patterns in text. The most common functions implementing regex in R are in the <strong>global regular expression print</strong> (<code>grep</code>) family. For more information see <code>help("regex")</code> and <code>help(grep)</code>. Learn more about regex functions in R at <a href="https://d-rug.github.io/blog/2015/regex.fick">D-RUG</a>. Following are some simple examples.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">sub</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;#&quot;</span>, <span class="st">&quot;abcdfa&quot;</span>) <span class="co"># Substitution: substitue first &quot;a&quot; in the expression &quot;abcdfa&quot; with &quot;#&quot; </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">## [1] &quot;#bcdfa&quot;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="kw">gsub</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;#&quot;</span>, <span class="st">&quot;abcdfa&quot;</span>) <span class="co"># General substitution: substitue all &quot;a&quot; in the expression &quot;abcdfa&quot; with &quot;#&quot;  </span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">## [1] &quot;#bcdf#&quot;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="kw">substr</span>(<span class="st">&quot;abcdef&quot;</span>, <span class="dv">1</span>, <span class="dv">3</span>) <span class="co"># substr(x, start, stop)</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">## [1] &quot;abc&quot;</span></span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="kw">substr</span>(<span class="st">&quot;abcdef&quot;</span>, <span class="dv">1</span>, <span class="kw">regexpr</span>(<span class="st">&quot;d&quot;</span>,<span class="st">&quot;abcdef&quot;</span>)[<span class="dv">1</span>]) <span class="co"># From first to &quot;d&quot;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">## [1] &quot;abcd&quot;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="kw">substr</span>(<span class="st">&quot;abcdef&quot;</span>, <span class="kw">nchar</span>(<span class="st">&quot;abcdef&quot;</span>)<span class="op">+</span><span class="dv">1-3</span>, <span class="kw">nchar</span>(<span class="st">&quot;abcdef&quot;</span>)) <span class="co"># First 3 caracters from right</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">## [1] &quot;def&quot;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="kw">grep</span>(<span class="st">&quot;a&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;def&quot;</span>, <span class="st">&quot;cba a&quot;</span>, <span class="st">&quot;aa&quot;</span>), <span class="dt">value =</span> <span class="ot">FALSE</span>) <span class="co"># Shows arrays&#39; number that include &quot;a&quot;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">## [1] 1 3 4</span></span>
<span id="cb8-18"><a href="#cb8-18"></a></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="kw">grep</span>(<span class="st">&quot;a+&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;def&quot;</span>, <span class="st">&quot;cba a&quot;</span>, <span class="st">&quot;aa&quot;</span>), <span class="dt">value =</span> <span class="ot">TRUE</span>) <span class="co"># Shows expressions that include one or more &quot;a&quot;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">## [1] &quot;abc&quot;   &quot;cba a&quot; &quot;aa&quot;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="kw">grepl</span>(<span class="st">&quot;Jojo&quot;</span>, <span class="st">&quot;my name is Jojo&quot;</span>) <span class="co"># True if &quot;Jojo&quot; is in the text</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">## [1] TRUE</span></span>
<span id="cb8-24"><a href="#cb8-24"></a></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="kw">grepl</span>(<span class="st">&quot;^Jojo&quot;</span>, <span class="st">&quot;my name is Jojo&quot;</span>) <span class="co"># True if &quot;Jojo&quot; is at the begining of the text</span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">## [1] FALSE</span></span>
<span id="cb8-27"><a href="#cb8-27"></a></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="kw">grepl</span>(<span class="st">&quot;Jojo$&quot;</span>, <span class="st">&quot;my name is Jojo&quot;</span>) <span class="co"># True if &quot;Jojo&quot; is at the end of the text</span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">## [1] TRUE</span></span>
<span id="cb8-30"><a href="#cb8-30"></a></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="kw">grepl</span>(<span class="st">&quot;[J-j]ojo&quot;</span>, <span class="st">&quot;my name is Jojo&quot;</span>) <span class="co"># True if &quot;Jojo&quot; or &quot;jojo&quot; is in the text</span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">## [1] TRUE</span></span>
<span id="cb8-33"><a href="#cb8-33"></a></span>
<span id="cb8-34"><a href="#cb8-34"></a>pattern =<span class="st"> &quot;(</span><span class="ch">\\</span><span class="st">d{3})[-. )]*(</span><span class="ch">\\</span><span class="st">d{3})[-. ]*(</span><span class="ch">\\</span><span class="st">d{4})&quot;</span></span>
<span id="cb8-35"><a href="#cb8-35"></a></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="kw">grep</span>(pattern, <span class="st">&quot;888-555-7766&quot;</span>, <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">## [1] &quot;888-555-7766&quot;</span></span>
<span id="cb8-38"><a href="#cb8-38"></a></span>
<span id="cb8-39"><a href="#cb8-39"></a>r =<span class="st"> </span><span class="kw">regexec</span>(pattern, <span class="st">&quot;888-555-7766&quot;</span>)</span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="kw">regmatches</span>(<span class="st">&quot;888-555-7766&quot;</span>, r)</span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="co">## [[1]]</span></span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="co">## [1] &quot;888-555-7766&quot; &quot;888&quot;          &quot;555&quot;          &quot;7766&quot;</span></span>
<span id="cb8-43"><a href="#cb8-43"></a></span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;./files&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;*.pdf$&quot;</span>) <span class="co"># List of &quot;pdf&quot; files in a directory</span></span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="co">## [1] &quot;Ashkan_Mirzaee_CV_Fall2019.pdf&quot;   &quot;Ashkan_Mirzaee_CV_Spring2020.pdf&quot;</span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="co">## [3] &quot;CV_01_2019.pdf&quot;</span></span></code></pre></div></div>
            <div class="d-none d-xl-block col-xl-2 bd-toc" style="position: fixed; right: 0; font-size: 14px">
               <ul class="section-nav">
                  <li class="toc-entry"><ul>
<li><a href="#date-and-time">Date and time</a></li>
<li><a href="#differentiation-and-integration">Differentiation and integration</a></li>
<li><a href="#matrix-operations">Matrix operations</a></li>
<li><a href="#computational-functions">Computational functions</a></li>
<li><a href="#summary-statistics">Summary statistics</a></li>
<li><a href="#split-and-merge-data">Split and merge data</a></li>
<li><a href="#regular-expressions">Regular expressions</a></li>
</ul></li>
               </ul>
            </div>
         </div>
               </div>
      <!-- jQuery and Bootstrap's JavaScript plugins -->
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
         /* add Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132464297-1"></script>
            <script>
               window.dataLayer = window.dataLayer || [];
               function gtag(){dataLayer.push(arguments);}
               gtag('js', new Date());
               gtag('config', 'UA-132464297-1');
            </script>
            <!-- footer -->
            <footer class="footer">
               <div align="center">
                  <p class="text-muted">
                     Content is available under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a>
                     &nbsp;|&nbsp;
                     Sourcecode licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank" rel="noopener">GPL-3.0</a>
            	 &nbsp;|&nbsp;
                     Built with <a href="https://github.com/ashki23/pandoc-bootstrap" target="_blank" rel="noopener">pandoc-bootstrap</a> theme
                     <br />
                     Copyright 2018-2020, Ashkan Mirzaee
                  </p>
               </div>
            </footer>
         </body>
</html>
